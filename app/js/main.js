let disableScroll=()=>{let o=window.scrollY;document.querySelector("html").style.scrollBehavior="auto",document.body.classList.add("ios-lock"),document.body.dataset.position=o,document.body.style.top=-o+"px"},enableScroll=()=>{let o=parseInt(document.body.dataset.position,10);document.body.style.top="auto",document.body.classList.remove("ios-lock"),window.scroll({top:o,left:0}),document.querySelector("html").removeAttribute("style"),document.body.removeAttribute("data-position")},scrollLock_BtnListener=o=>{o.addEventListener("click",e=>{o.classList.toggle("scroll"),o.classList.contains("scroll")?disableScroll():enableScroll()})};const modalButtons=document.querySelectorAll(".modal-btn"),lockPadding=document.querySelectorAll(".fixed-padding"),modalCloseButtons=document.querySelectorAll(".close-modal"),timeout=800;let currentCloseBtn,bodyWasNotLock,previousActiveElement,unlock=!0;if(0==lockPadding.length&&console.log('@MODALS: "Не забудьте добавить класс "fixed-padding" фиксированным элементам!"'),"function"==typeof disableScroll?console.log(`Тип данных переменных "disableScroll" и "enableScroll": "${typeof disableScroll}"! @scrollLockIOS: ON`):console.log(`Тип данных переменных "disableScroll" и "enableScroll": "${typeof disableScroll} и ${typeof enableScroll}"! Для IOS НЕ будет выполнятся скрипт scrollLockIOS`),modalButtons.length>0)for(let o=0;o<modalButtons.length;o++){const e=modalButtons[o];e.addEventListener("click",(function(o){const t=e.dataset.path,l=document.getElementById(t);null!=l?(console.log("Открыто модальное окно: "+t),modalOpen(l),setTimeout(()=>{modalCloseButtons.forEach(o=>{o.focus()})},100),o.preventDefault()):console.log("Такого модального окна нету! "+l)}))}if(modalCloseButtons.length>0)for(let o=0;o<modalCloseButtons.length;o++){const e=modalCloseButtons[o];currentCloseBtn=e,e.addEventListener("click",(function(o){modalClose(e.closest(".modal")),o.preventDefault()}))}function modalOpen(o){if(o&&unlock){previousActiveElement=document.activeElement;const e=document.querySelector(".modal.open");e?modalClose(e,!1):bodyLock(),o.classList.add("open"),o.addEventListener("mousedown",(function(o){o.target.closest(".modal__content")||modalClose(o.target.closest(".modal"))}))}}function modalClose(o,e=!0){unlock&&(o.classList.remove("open"),e&&bodyUnlock()),setTimeout((function(){previousActiveElement.focus()}),800)}function bodyLock(){const o=window.innerWidth-body.offsetWidth+"px";if(lockPadding.length>0)for(let e=0;e<lockPadding.length;e++){lockPadding[e].style.paddingRight=o}body.style.paddingRight=o,body.classList.contains("lock")?bodyWasNotLock=!1:(bodyWasNotLock=!0,"function"==typeof disableScroll&&(isiPhone||isiPad||isiPod)?disableScroll():body.classList.add("lock")),unlock=!1,setTimeout((function(){unlock=!0}),800)}function bodyUnlock(){setTimeout((function(){if(lockPadding.length>0)for(let o=0;o<lockPadding.length;o++){lockPadding[o].style.paddingRight="0px"}body.style.paddingRight="0px",1==bodyWasNotLock&&("function"==typeof enableScroll&&(isiPhone||isiPad||isiPod)?enableScroll():body.classList.remove("lock"))}),800)}document.addEventListener("keydown",(function(o){if(document.querySelector(".modal.open")&&27===o.which){modalClose(document.querySelector(".modal.open"))}})),Element.prototype.closest||(Element.prototype.closest=function(o){for(var e=this;e;){if(e.matches(o))return e;e=e.parentElement}return null}),Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);const isiPhone=null!=navigator.userAgent.match(/iPhone/i),isiPad=null!=navigator.userAgent.match(/iPad/i),isiPod=null!=navigator.userAgent.match(/iPod/i);if(isiPhone||isiPad||isiPod){(()=>{let o=document.querySelectorAll('[href^="#"]');for(let e=0;e<o.length;e++)o[e].addEventListener("click",(function(o){o.preventDefault();let e=window.pageYOffset,l=this.href.replace(/[^#]*(.*)/,"$1");t=document.querySelector(l).getBoundingClientRect().top,start=null,requestAnimationFrame((function o(n){null===start&&(start=n);let c=n-start,s=t<0?Math.max(e-c/.2,e+t):Math.min(e+c/.2,e+t);window.scrollTo(0,s),s!=e+t?requestAnimationFrame(o):location.hash=l}))}),!1)})()}
//# sourceMappingURL=main.js.map
